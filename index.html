<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Portfolio</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-extras@6.2.0/dist/aframe-extras.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        a-scene {
            width: 100%;
            height: 100vh;
        }

        #info-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: #fff;
            padding: 30px;
            border-radius: 5px;
            max-width: 500px;
            border: 1px solid #666;
            font-size: 14px;
            z-index: 100;
            display: none;
        }

        #info-panel.active {
            display: block;
        }

        #info-panel h3 {
            margin-bottom: 15px;
            font-size: 20px;
        }

        #info-panel p {
            margin-bottom: 15px;
            line-height: 1.5;
        }

        #info-panel button {
            background: #333;
            border: 1px solid #666;
            color: #fff;
            padding: 8px 15px;
            border-radius: 3px;
            cursor: pointer;
            margin-right: 10px;
            margin-top: 10px;
        }

        #info-panel button:hover {
            background: #555;
        }

        #credits {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: #ccc;
            padding: 15px;
            border-radius: 3px;
            font-size: 13px;
            border: 1px solid #555;
            max-width: 250px;
            z-index: 100;
        }

        #credits h2 {
            font-size: 16px;
            margin-bottom: 8px;
        }

        .project-point {
            cursor: pointer;
        }

        .project-point:hover {
            opacity: 0.7;
        }

        #projects-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: #fff;
            padding: 30px;
            border-radius: 5px;
            max-width: 600px;
            max-height: 80vh;
            border: 1px solid #555;
            z-index: 200;
            display: none;
            overflow-y: auto;
        }

        #projects-panel.active {
            display: block;
        }

        #projects-panel h3 {
            margin-bottom: 20px;
            font-size: 20px;
        }

        .project-card {
            background: rgba(100, 100, 100, 0.2);
            border: 1px solid #444;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 3px;
        }

        .project-card h4 {
            margin-bottom: 8px;
            font-size: 15px;
        }

        .project-card p {
            font-size: 13px;
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .project-card .tech {
            font-size: 12px;
            color: #aaa;
        }

        #projects-panel button {
            background: #333;
            border: 1px solid #666;
            color: #fff;
            padding: 8px 15px;
            border-radius: 3px;
            cursor: pointer;
            margin-top: 20px;
            width: 100%;
        }

        #projects-panel button:hover {
            background: #555;
        }

        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 150;
            display: none;
        }

        #overlay.active {
            display: block;
        }
    </style>
</head>
<body>
    <div id="credits">
        <h2>Portfolio</h2>
        <p>Click the character</p>
    </div>

    <div id="info-panel">
        <h3 id="project-title">About Me</h3>
        <p id="project-desc">Bio</p>
        <button onclick="showProjects()">View Projects</button>
        <button onclick="closePanel()">Close</button>
    </div>

    <div id="overlay" onclick="closeProjects()"></div>

    <div id="projects-panel">
        <h3>Projects</h3>
        <div id="projects-list"></div>
        <button onclick="closeProjects()">Close</button>
    </div>



    <a-scene background="color: #0a1428">
        <a-assets>
            <a-asset-item id="boyModel" src="assets/boy/scene.gltf"></a-asset-item>
        </a-assets>

        <a-light type="ambient" color="#ffffff" intensity="0.9"></a-light>
        <a-light type="directional" color="#ffffff" intensity="0.7" position="10 15 8"></a-light>
        <a-light type="point" color="#6366f1" intensity="0.6" position="5 5 5"></a-light>
        <a-light type="point" color="#0ea5e9" intensity="0.4" position="-5 5 5"></a-light>

        <a-sky color="#0d1b2a"></a-sky>

        <a-plane color="#2d2d2d" rotation="-90 0 0" scale="10 10 1" position="0 0 0"></a-plane>

        <a-box color="#8B4513" position="0 0.7 0" scale="2.5 0.1 1.5"></a-box>

        <a-box color="#6B3410" position="-1 0.35 -0.6" scale="0.1 0.7 0.1"></a-box>
        <a-box color="#6B3410" position="1 0.35 -0.6" scale="0.1 0.7 0.1"></a-box>
        <a-box color="#6B3410" position="-1 0.35 0.6" scale="0.1 0.7 0.1"></a-box>
        <a-box color="#6B3410" position="1 0.35 0.6" scale="0.1 0.7 0.1"></a-box>

        <a-entity id="character" class="clickable-character" position="0 0 -1.5" scale="1.2 1.2 1.2">
            <a-entity gltf-model="#boyModel" scale="1 1 1"></a-entity>
            <a-box visible="false" position="0 0 0" scale="1.5 2.5 1.5"></a-box>
        </a-entity>

        <a-entity id="book1" class="clickable-book" position="-0.8 0.85 0" data-project="0">
            <a-box visible="false" position="0 0 0" scale="0.3 0.3 0.15"></a-box>
            <a-box color="#DC143C" position="0 0 0" scale="0.3 0.3 0.15" opacity="0.9"></a-box>
        </a-entity>

        <a-entity id="book2" class="clickable-book" position="0 0.85 0" data-project="1">
            <a-box visible="false" position="0 0 0" scale="0.3 0.3 0.15"></a-box>
            <a-box color="#4169E1" position="0 0 0" scale="0.3 0.3 0.15" opacity="0.9"></a-box>
        </a-entity>

        <a-entity id="book3" class="clickable-book" position="0.8 0.85 0" data-project="2">
            <a-box visible="false" position="0 0 0" scale="0.3 0.3 0.15"></a-box>
            <a-box color="#FFD700" position="0 0 0" scale="0.3 0.3 0.15" opacity="0.9"></a-box>
        </a-entity>

        <a-entity camera position="0 2.5 3" wasd-controls="acceleration: 10" look-controls="enabled: true; pointerLockEnabled: false" raycaster="objects: .clickable-character, .clickable-book"></a-entity>
    </a-scene>

    <script>
        const bio = {
            name: "Robinbir Singh",
            description: "A developer and designer."
        };

        const projects = [
            { title: "Project 1", description: "Description here", tech: "Pyhton" },
            { title: "Project 2", description: "Description here", tech: "JavaScript" },
            { title: "Project 3", description: "Description here", tech: "Vue" }
        ];

        function showBio() {
            document.getElementById('project-title').textContent = bio.name;
            document.getElementById('project-desc').textContent = bio.description;
            document.getElementById('info-panel').classList.add('active');
            document.getElementById('projects-panel').classList.remove('active');
            document.getElementById('overlay').classList.remove('active');
        }

        function showProjects() {
            const projectsList = document.getElementById('projects-list');
            projectsList.innerHTML = '';
            
            projects.forEach((project, index) => {
                const card = document.createElement('div');
                card.className = 'project-card';
                card.innerHTML = `
                    <h4>${project.title}</h4>
                    <p>${project.description}</p>
                    <div class="tech">Tech: ${project.tech}</div>
                `;
                projectsList.appendChild(card);
            });

            document.getElementById('projects-panel').classList.add('active');
            document.getElementById('overlay').classList.add('active');
        }

        function closePanel() {
            document.getElementById('info-panel').classList.remove('active');
        }

        function closeProjects() {
            document.getElementById('projects-panel').classList.remove('active');
            document.getElementById('overlay').classList.remove('active');
        }

        setTimeout(() => {
            const character = document.getElementById('character');
            const books = document.querySelectorAll('.clickable-book');
            
            character.addEventListener('raycaster-intersected', (e) => {
                character.style.opacity = 0.7;
            });
            
            character.addEventListener('raycaster-intersected-cleared', (e) => {
                character.style.opacity = 1;
            });
            
            character.addEventListener('click', showBio);
            
            books.forEach(book => {
                book.addEventListener('raycaster-intersected', (e) => {
                    book.style.opacity = 0.7;
                });
                
                book.addEventListener('raycaster-intersected-cleared', (e) => {
                    book.style.opacity = 1;
                });
                
                book.addEventListener('click', showProjects);
            });
        }, 1000);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closePanel();
                closeProjects();
            }
        });
    </script>
</body>
</html>